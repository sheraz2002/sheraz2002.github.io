<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Four-Legged Crab Robot · CAD & CoppeliaSim (V-REP) · Muhammad Sheraz</title>
  <link rel="stylesheet" href="../../styles.css"/>
  <style>
    .project-page p strong { color: var(--clr-accent); }
    .title-row { display:flex; justify-content:space-between; align-items:baseline; margin-bottom:1rem; }
    .title-row h1 { margin:0; line-height:1; }
    .tags { margin-bottom:.6rem; }
    figure { margin:1rem 0; }
    figure img { width:100%; border-radius:.6rem; display:block; margin-inline:auto; }
    figure figcaption { font-size:.9rem; opacity:.85; margin-top:.35rem; }
    .two-col { display:grid; grid-template-columns:1fr; gap:1.1rem; }
    @media (min-width: 950px) { .two-col { grid-template-columns:1fr 1fr; } }
    .list-tight li { margin-bottom:.35rem; }
    .callout { padding:.9rem 1rem; border-radius:.6rem; background:rgba(255,213,79,.08); border:1px solid rgba(255,213,79,.3); }
    .metric { display:inline-block; padding:.28rem .5rem; border-radius:.35rem; background:rgba(125,255,200,.08); border:1px solid rgba(125,255,200,.3); margin:.1rem .25rem .1rem 0; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.15); padding:.05rem .4rem; border-radius:.35rem; }
    .specs { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.6rem; margin:.6rem 0 1rem; }
    .specs div { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.12); padding:.5rem .7rem; border-radius:.45rem; }
  </style>
</head>
<body>
  <div class="bg"></div>

  <!-- NAV -->
  <nav class="nav glass container">
    <span class="logo">Muhammad Sheraz</span>
    <ul class="nav__links">
      <li><a href="../../index.html">Home</a></li>
      <li><a href="../../index.html?tab=ai#projects">AI Projects</a></li>
      <li><a href="../../index.html?tab=embedded#projects" class="active">Embedded & Control</a></li>
      <li><a href="../experience.html">Experience</a></li>
      <li><a href="../education.html">Education</a></li>
      <li><a href="../skills.html">Skills</a></li>
      <li><a href="../contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- CONTENT -->
  <article class="project-page container glass">
    <div class="title-row">
      <h1>Four-Legged Crab Robot — SolidWorks CAD & CoppeliaSim/V-REP Simulation</h1>
      <!-- Optional: demo/video -->
      <!-- <a class="btn" href="LINK_TO_DEMO" target="_blank">Watch Demo ↗</a> -->
    </div>
    <p class="tags">Quadruped · Sideways Crab Gait · SolidWorks · CoppeliaSim/V-REP · Inverse Kinematics · 3D Printing</p>

    <p>
      This project is a biomimetic <strong>four-legged crab robot</strong> designed in <strong>SolidWorks</strong> and fully simulated in
      <strong>CoppeliaSim (V-REP)</strong>. The robot emphasizes a stable <em>sideways gait</em> (crab-style translation) with
      compliant, lightweight legs. The workflow covered CAD, mass/inertia estimation, kinematic modeling, controller tuning,
      contact/terrain experiments, and 3D-printed leg prototypes.
    </p>

    <figure>
      <img src="../../assets/cholesterol/crab/center.jpg" alt="Front render of crab robot (SolidWorks)"/>
      <figcaption>Front perspective render from SolidWorks showing the compact body and four articulated legs.</figcaption>
    </figure>

    <h2>1) Goals & Design Constraints</h2>
    <div class="callout>
      <p><strong>Goal:</strong> achieve <em>lateral/sideways</em> locomotion with good stability, low weight, and printable legs, while keeping the control stack simple for real-time execution.</p>
    </div>
    <div class="specs">
      <div><strong>Mass (sim):</strong> ~1.2–1.6 kg (tunable)</div>
      <div><strong>Degrees of Freedom:</strong> 3 per leg (hip yaw, hip pitch, knee)</div>
      <div><strong>Leg material:</strong> PLA/ABS prototype</div>
      <div><strong>Control rate:</strong> 50–100 Hz (scripted)</div>
      <div><strong>Gaits:</strong> Lateral crawl (static), lateral trot (dynamic)</div>
      <div><strong>Terrain:</strong> flat → mild slope/steps</div>
    </div>

    <h2>2) Mechanical Design (SolidWorks)</h2>
    <div class="two-col">
      <figure>
        <img src="../../assets/cholesterol/crab/complete.jpg" alt="Complete crab robot CAD"/>
        <figcaption>Top view of the complete assembly: central body + four 3-DOF legs. Brackets expose two mounting faces for easy servo integration.</figcaption>
      </figure>
      <figure>
        <img src="../../assets/cholesterol/crab/leg-des.png" alt="Leg link and foot CAD"/>
        <figcaption>Leg design: lightweight, hollowed sections reduce mass/inertia while preserving stiffness near joints and the foot tip.</figcaption>
      </figure>
    </div>

    <h3>Key CAD Notes</h3>
    <ul class="list-tight">
      <li><strong>Mass properties:</strong> extracted from SolidWorks (per-link). Exported to CoppeliaSim to match dynamics.</li>
      <li><strong>Joint limits:</strong> designed to avoid self-collision at extreme poses; yaw at shoulder adds natural lateral reach.</li>
      <li><strong>Cable routing:</strong> internal grooves for actuator wires; foot slot for replaceable pads/claws.</li>
      <li><strong>Manufacturability:</strong> all parts printable on a 220×220 mm bed; minimal supports on hip parts.</li>
    </ul>

    <h2>3) Kinematics & Actuation</h2>
    <p>
      Each leg uses a <strong>3-link planar chain</strong> with an extra <em>hip-yaw</em> DOF for sideways reach.
      We implemented both <span class="metric">analytical IK</span> (for fast stepping) and <span class="metric">numerical damped-least-squares</span>
      (for obstacle tests). A simple <span class="metric">PD controller</span> regulates joint angles; gravity compensation
      and foot-contact detection improve stability during stance.
    </p>
    <pre class="kbd">p_cmd → IK(q*) → PD: τ = Kp(q*−q) + Kd(−q̇)</pre>

    <h2>4) Simulation (CoppeliaSim / V-REP)</h2>
    <p>
      The SolidWorks assembly was exported (STL/OBJ + URDF-like joint tree) and re-parameterized in CoppeliaSim:
    </p>
    <ul class="list-tight">
      <li><strong>Mass/inertia</strong> per link from CAD; friction, restitution, and foot contact patches tuned for realistic stance.</li>
      <li><strong>Controllers:</strong> Lua or remote Python script; 50–100 Hz loop with synchronous stepping.</li>
      <li><strong>Scenes:</strong> flat plane, low-friction patch, 2–3 cm step, and ±5° ramp for stability tests.</li>
      <li><strong>Foot contact:</strong> ray/force threshold triggers stance ↔ swing transitions.</li>
    </ul>

    <figure>
      <img src="../../assets/cholesterol/crab/simulation.jpg" alt="CoppeliaSim/V-REP simulation screenshot"/>
      <figcaption>Robot imported and driven in V-REP/CoppeliaSim for locomotion tests (import, physics, and Lua control). <!-- Source: simulation figure in the uploaded report, see page 12. --> </figcaption>
    </figure>

    <h2>5) Gait Planner (Lateral “Crab” Motion)</h2>
    <p>
      The robot moves primarily <em>sideways</em>. We implemented two patterns:
    </p>
    <ul class="list-tight">
      <li><strong>Static lateral crawl:</strong> one leg swings while the other three keep the support polygon wide. CoM projection is kept inside polygon → very stable.</li>
      <li><strong>Lateral trot:</strong> diagonal pair swing together for higher speed; requires tighter PD gains and short stance re-centering.</li>
    </ul>
    <pre class="kbd">phase = { LF:0, RF:π, LB:π, RB:0 }   // crawl
x_foot(t) = x0 + A * sawtooth(phase + ωt)
z_foot(t) = z_clear during swing</pre>

    <h2>6) Prototyping</h2>
    <div class="two-col">
      <figure>
        <img src="../../assets/cholesterol/crab/leg-3d.png" alt="3D-printed legs prototype"/>
        <figcaption>3D-printed leg prototypes (early & refined). Slot cutouts reduce mass; fork head interfaces with the knee bracket.</figcaption>
      </figure>
      <figure>
        <img src="../../assets/cholesterol/crab/leg-des.png" alt="Leg CAD close-up"/>
        <figcaption>Close-up of the leg CAD showing fork head, hinge bore, and tapered beam for stiffness where loads are highest.</figcaption>
      </figure>
    </div>

    <h2>7) Results & Metrics (Simulation)</h2>
    <ul class="list-tight">
      <li><strong>Sideways speed:</strong> ~0.12–0.18 m/s (trot), ~0.06–0.09 m/s (crawl), depending on step length and stance timing.</li>
      <li><strong>Stability margin:</strong> minimum CoM–support-polygon distance &gt; 1.5 cm in crawl; near-zero at peak trot swing (acceptable with PD damping).</li>
      <li><strong>Energy:</strong> lower knee torque when swing trajectory includes a slight lift-hold to clear terrain and reduce impact.</li>
      <li><strong>Terrain:</strong> clears 20–25 mm obstacles with 35–40 mm foot clearance; traverses ±5° ramps in crawl mode.</li>
    </ul>

    <h2>8) Challenges & Fixes</h2>
    <ul class="list-tight">
      <li><strong>Self-collision at max stride</strong> → added hip-yaw limit and reduced knee hyper-extension.</li>
      <li><strong>Foot slip on low-μ surfaces</strong> → increased normal force during stance and used vertical preload in PD.</li>
      <li><strong>Printed leg flex</strong> → changed infill from 15% to 35% near hinge; added fillets at stress concentrators.</li>
      <li><strong>Controller chatter</strong> → introduced velocity damping (Kd↑) and small deadband around set-point.</li>
    </ul>


    <!-- OPTIONAL: add a short video/gif later
    <figure>
      <video controls src="../../assets/crab/crab-demo.mp4" style="width:100%; border-radius:.6rem;"></video>
      <figcaption>Sideways crawl and trot in CoppeliaSim.</figcaption>
    </figure> -->
  </article>

  <!-- FOOTER -->
  <footer class="footer container">
    © <span id="year"></span> Muhammad Sheraz
  </footer>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
